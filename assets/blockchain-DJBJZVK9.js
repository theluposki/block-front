import{_ as p,r as _,h as d,c as b,o as f,i as h,j as y,a as i,b as g,u}from"./index-DSzQYch-.js";import{C as k}from"./index-iCYYr22m.js";const m={"json-container":"_json-container_1yqab_22","json-key":"_json-key_1yqab_26","json-string":"_json-string_1yqab_30","json-number":"_json-number_1yqab_34","json-boolean":"_json-boolean_1yqab_38","json-null":"_json-null_1yqab_42"},j=["innerHTML"],x={__name:"JsonViewer",props:{jsonText:Object},setup(o){const t=o,a=_(""),r=()=>({key:"color: #ffb86c;",string:"color: #50fa7b;",number:"color: #bd93f9;",boolean:"color: #8be9fd;",null:"color: #ff5555;"}),e=n=>{const s=r();return typeof n!="string"&&(n=JSON.stringify(n,null,2)),n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n.replace(/("(\\u[\da-fA-F]{4}|\\[^u"]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(\.\d+)?([eE][+-]?\d+)?)/g,l=>{let c="";return/^"/.test(l)?/:$/.test(l)?c=s.key:c=s.string:/true|false/.test(l)?c=s.boolean:/null/.test(l)?c=s.null:c=s.number,`<span style="${c}">${l}</span>`})};return d(()=>{a.value=e(t.jsonText)}),(n,s)=>(f(),b("pre",{innerHTML:a.value,class:"json-container"},null,8,j))}},B={$style:m},M=p(x,[["__cssModules",B]]),v=()=>({index:1,hash:"0000",timestamp:Date.now(),data:{},lastHash:"0000"}),w=h("blockchain",()=>{const o=_([v()]),t=e=>{o.value.push(e)},a=(e,n)=>{const s={index:e.index+1,timestamp:Date.now(),data:n,lastHash:e.hash},l=k.SHA256(JSON.stringify(s)).toString();return{...s,hash:l}};return{blockchain:o,addBlock:t,Mine:()=>{const e=o.value[o.value.length-1],n=a(e,1e3);t(n)}}}),H={class:"page-int"},S={class:"container"},$={__name:"blockchain",setup(o){const t=w(),a=y(()=>t.blockchain);return(r,e)=>(f(),b("div",H,[i("div",S,[e[1]||(e[1]=i("h3",null,"blockchain",-1)),i("button",{class:"btn",onClick:e[0]||(e[0]=(...n)=>u(t).Mine&&u(t).Mine(...n))},"Mine"),g(M,{"json-text":a.value},null,8,["json-text"])])]))}};export{$ as default};
